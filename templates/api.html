<!DOCTYPE html> {% load static %}

<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>API</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css">
    <link href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.0/font/bootstrap-icons.css">

    <style type="text/css">
        a {
            text-decoration: none !important;
            color: inherit;
        }
    </style>

</head>

<body>
    <a class="btn btn-primary" style="position: absolute; top:10px; left: 10px" onclick="history.back()">Назад</a>

    <div style="display: flex;flex-direction: column;align-items: center">
        <a href="{% url 'index' %}">
            <div class="mb-3 mt-1" style="display: flex;align-items: center">
{#            <img style="width: 80px" src="{% static 'logo.png' %}">#}
            <div style="margin-left: 10px">
                <img style="width: 80px" src="{% static 'vtb.png' %}">
                <h4>Ваша профильная лента бизнес-новостей</h4>
            </div>
        </div>
        </a>

        <div style="margin-top: 2%">
            <h1>API документация</h1>
            <h6>Версия: <span class="badge text-bg-primary">1.0</span></h6>
            <h6>Последнее обновление: <span class="badge text-bg-primary">25.09.2022</span></h6>
        </div>
        <div class="col-11 shadow p-3 mb-5 bg-body" style="background-color: #fafafa; padding: 3%; border-radius: 16px; margin-top: 2%">

            <div class="d-flex" style="flex-direction: column">
                <h3>Анализ файла <span class="badge bg-success">POST</span></h3>
                <label>
                Чтобы произвести анализ файла, вам нужно сделать POST-запрос по следующему URL-адресу:
                <h5><span class="badge bg-secondary">http://127.0.0.1:8000/analysis</span></h5>
            </label>
                <button class="btn btn-primary mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" style="max-width: 200px">
                Параметры запроса
            </button>
            </div>
            <div class="collapse" id="collapseExample">
                <div class="card card-body">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Поле</th>
                                <th scope="col">Тип</th>
                                <th scope="col">Описание</th>
                            </tr>
                        </thead>
                        <tbody>
                        <tr>
                                <th scope="row">type</th>
                                <td>String</td>
                                <td>Тип анализа</td>
                            </tr>
                            <tr>
                                <th scope="row">file</th>
                                <td>String</td>
                                <td>Путь к файлу</td>
                            </tr>
                            <tr>
                                <th scope="row">text</th>
                                <td>String</td>
                                <td>Строка для анализа (массив данных в формате валидационной выборки)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>


        <label style="color: #c9c9c9">Цифровой прорыв | КЕЙС: МЕЖДУНАРОДНАЯ АКАДЕМИЯ ИССЛЕДОВАНИЯ ЛЖИ</label>
        <label style="color: #c9c9c9">StarTrek Team 2022</label>
    </div>


    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
    <script>
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))

        const myModal = document.getElementById('myModal')
        const myInput = document.getElementById('myInput')

        myModal.addEventListener('shown.bs.modal', () => {
            myInput.focus()
        })

        $(document).ready(function() {
            $('#myTable').DataTable();
        });
    </script>


    <script>
        const ctx = document.getElementById('photoChart').getContext('2d');
        const photoChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: [{
                    label: '# of Votes',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1,
                    tension: 0.1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Фотоплетизмограмма N повтора'
                    }
                }
            }
        });

        // {#============================#}

        const ctx1 = document.getElementById('pezoChart').getContext('2d');
        const pezoChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                datasets: [{
                    label: '# of Votes',
                    data: [12, 19, 3, 5, 2, 3],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1,
                    tension: 0.1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Пьезоплетизмограмма N повтора'
                    }
                }
            }
        });
    </script>

</body>

</html>